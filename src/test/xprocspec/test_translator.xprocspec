<?xml version="1.0" encoding="UTF-8"?>
<x:description xmlns:x="http://www.daisy.org/ns/xprocspec"
               xmlns:p="http://www.w3.org/ns/xproc"
               xmlns:px="http://www.daisy.org/ns/pipeline/xproc"
               xmlns:html="http://www.w3.org/1999/xhtml"
               xmlns:pxi="http://www.daisy.org/ns/pipeline/xproc/internal"
               xmlns:css="http://www.daisy.org/ns/pipeline/braille-css">
  
  <x:script>
    <p:declare-step type="pxi:transform" version="1.0">
      <p:input port="source"/>
      <p:output port="result"/>
      <p:option name="grade" select="'0'"/>
      <p:option name="dots" select="'6'"/>
      <p:option name="stylesheet" required="true"/>
      <p:import href="http://www.daisy.org/pipeline/modules/braille/common-utils/library.xpl"/>
      <p:import href="http://www.daisy.org/pipeline/modules/braille/css-utils/library.xpl"/>
      <css:inline>
        <p:with-option name="default-stylesheet" select="$stylesheet"/>
      </css:inline>
      <px:transform>
        <p:with-option name="query" select="concat('(input:css)(input:html)(output:css)(translator:nlb)(locale:no)(grade:',$grade,')(dots:',$dots,')')"/>
      </px:transform>
      <p:delete match="@style"/>
    </p:declare-step>
  </x:script>
  
  <x:scenario label="6-dot: Grade 0, 1, 2 and 3">
    <x:call step="pxi:transform">
      <x:input port="source">
        <x:document type="inline">
          <div xmlns="http://www.w3.org/1999/xhtml" style="hyphens:auto">
            <p>foobar</p>
          </div>
        </x:document>
      </x:input>
      <x:option name="stylesheet" select="'http://www.nlb.no/pipeline/modules/braille/default.css'"/>
    </x:call>
    
    <x:scenario label="grade 0">
      <x:call>
        <x:option name="grade" select="'0'"/>
      </x:call>
      <x:context label="result">
        <x:document type="port" port="result"/>
      </x:context>
      <x:expect label="result" type="compare">
        <x:document type="inline">
          <div xmlns="http://www.w3.org/1999/xhtml">
            <p>⠋⠕⠕­⠃⠁⠗</p>
          </div>
        </x:document>
      </x:expect>
    </x:scenario>
    
    <x:scenario label="grade 1">
      <x:call>
        <x:option name="grade" select="'1'"/>
      </x:call>
      <x:context label="result">
        <x:document type="port" port="result"/>
      </x:context>
      <x:expect label="result" type="compare">
        <x:document type="inline">
          <div xmlns="http://www.w3.org/1999/xhtml">
            <p>⠋⠕⠕­⠃⠼</p>
          </div>
        </x:document>
      </x:expect>
    </x:scenario>
    
    <x:scenario label="grade 2">
      <x:call>
        <x:option name="grade" select="'2'"/>
      </x:call>
      <x:context label="result">
        <x:document type="port" port="result"/>
      </x:context>
      <x:expect label="result" type="compare">
        <x:document type="inline">
          <div xmlns="http://www.w3.org/1999/xhtml">
            <p>⠋⠕⠕­⠃⠼</p>
          </div>
        </x:document>
      </x:expect>
    </x:scenario>
    
    <x:scenario label="grade 3">
      <x:call>
        <x:option name="grade" select="'3'"/>
      </x:call>
      <x:context label="result">
        <x:document type="port" port="result"/>
      </x:context>
      <x:expect label="result" type="compare">
        <x:document type="inline">
          <div xmlns="http://www.w3.org/1999/xhtml">
            <p>⠋⠕⠕­⠃⠼</p>
          </div>
        </x:document>
      </x:expect>
    </x:scenario>
  </x:scenario>
  
  <x:scenario label="8-dot: Grade 0">
    <x:call step="pxi:transform">
      <x:option name="dots" select="'8'"/>
      <x:input port="source">
        <x:document type="inline">
          <div xmlns="http://www.w3.org/1999/xhtml" style="hyphens:auto">
            <p>foobar</p>
          </div>
        </x:document>
      </x:input>
      <x:option name="stylesheet" select="'http://www.nlb.no/pipeline/modules/braille/default.css'"/>
    </x:call>
    
    <x:scenario label="grade 0">
      <x:call>
        <x:option name="grade" select="'0'"/>
      </x:call>
      <x:context label="result">
        <x:document type="port" port="result"/>
      </x:context>
      <x:expect label="result" type="compare">
        <x:document type="inline">
          <div xmlns="http://www.w3.org/1999/xhtml">
            <p>⠋⠕⠕­⠃⠁⠗</p>
          </div>
        </x:document>
      </x:expect>
    </x:scenario>
  </x:scenario>
  
  <x:scenario label="Marking of text-level semantics with braille indicators for Norwegian">
    <x:call step="pxi:transform">
      <x:input port="source">
        <x:document type="inline">
          <div xmlns="http://www.w3.org/1999/xhtml">
            <!--
                Always use dots 23 (⠆) in front of bold and dots 56 (⠰) after bold.
            -->
            <p>
              hund hund<strong>en</strong> hund<strong>er</strong> hund<strong>ene</strong>
            </p>
            <!--
                Opening/closing marks are never placed immediately before/after a white space character.
            -->
            <p>
              hund hund<strong>en </strong>hund<strong>er </strong>hund<strong>ene</strong>
            </p>
            <p>
              Det var bare det at hun også <strong>mis</strong>unte ham det
            </p>
            <p>
              Jeg verken <strong>vil </strong>eller <strong>kan </strong>gjøre dette for deg!
            </p>
            <p>
              Karin Fossum slo gjennom som krimforfatter med romanen <strong>Evas øye</strong>, som
              kom ut i 1995.
            </p>
            <!--
                Always use dots 456 (⠸) in front of and after underline.
            -->
            <p>
              "Hør her: <strong>du <u>må </u>gjøre det</strong>!"
            </p>
            <!--
                Always use dots 6-3 (⠆⠠) in front of and after italics.
            -->
            <p>
              Romanen <strong>Tusen strålende soler </strong>av den afghansk-amerikanske forfatteren
              Khaled Hosseini tyder på å bli en like stor suksess som den forrige romanen,
              <strong>Drageløperen</strong>. I bokanmeldelsen fra <strong>Dagbladet
              </strong>06.06.07 forklares dette med: <em>Ikke fordi Hosseini er en spesielt god
              forfatter. Men fordi tematikken til den USA-bosatte Hosseini, har en spesiell dragning
              på et vestlig publikum.</em>
            </p>
            <p>
              Vinje, Finn-Erik. 2004. <em>Skriveregler</em>. 8. utg. Oslo
            </p>
            <p>
              Hellevik, Alf. 1970. <em>God nynorsk</em>.  Oslo
            </p>
            <p>
              Ny afghansk bestselger. Bokanmeldelse <em>Dagbladet </em>06.06.07
            </p>
          </div>
        </x:document>
      </x:input>
      <x:option name="grade" select="'0'"/>
      <x:option name="stylesheet" select="'http://www.nlb.no/pipeline/modules/braille/default.css'"/>
    </x:call>
    <x:context label="result">
      <x:document type="port" port="result"/>
    </x:context>
    <x:expect label="result" type="compare" pending="no perfect translation">
      <x:document type="inline">
        <div xmlns="http://www.w3.org/1999/xhtml">
          <p>
            ⠓⠥⠝⠙ ⠓⠥⠝⠙<strong>⠆⠑⠝⠰</strong> ⠓⠥⠝⠙<strong>⠆⠑⠗⠰</strong> ⠓⠥⠝⠙<strong>⠆⠑⠝⠑⠰</strong>
          </p>
          <p>
            ⠓⠥⠝⠙ ⠓⠥⠝⠙<strong>⠆⠑⠝⠰ </strong>⠓⠥⠝⠙<strong>⠆⠑⠗⠰ </strong>⠓⠥⠝⠙<strong>⠆⠑⠝⠑⠰</strong>
          </p>
          <p>
            ⠠⠙⠑⠞ ⠧⠁⠗ ⠃⠁⠗⠑ ⠙⠑⠞ ⠁⠞ ⠓⠥⠝ ⠕⠛⠎⠡ <strong>⠆⠍⠊⠎⠰</strong>⠥⠝⠞⠑ ⠓⠁⠍ ⠙⠑⠞⠄
          </p>
          <p>
            ⠠⠚⠑⠛ ⠧⠑⠗⠅⠑⠝ <strong>⠆⠧⠊⠇⠰ </strong>⠑⠇⠇⠑⠗ <strong>⠆⠅⠁⠝⠰ </strong>⠛⠚⠪⠗⠑ ⠙⠑⠞⠞⠑ ⠋⠕⠗ ⠙⠑⠛⠖
          </p>
          <p>
            ⠠⠅⠁⠗⠊⠝ ⠠⠋⠕⠎⠎⠥⠍ ⠎⠇⠕ ⠛⠚⠑⠝⠝⠕⠍ ⠎⠕⠍ ⠅⠗⠊⠍⠋⠕⠗⠋⠁⠞⠞⠑⠗ ⠍⠑⠙ ⠗⠕⠍⠁⠝⠑⠝ <strong>⠆⠑⠧⠁⠎ ⠪⠽⠑⠰</strong>⠂
            ⠎⠕⠍ ⠅⠕⠍ ⠥⠞ ⠊ ⠼⠁⠊⠊⠑⠄
          </p>
          <p>
            ⠲⠠⠓⠪⠗ ⠓⠑⠗⠒ <strong>⠆⠙⠥ <u>⠸⠍⠡⠸ </u>⠛⠚⠪⠗⠑ ⠙⠑⠞⠰</strong>⠖⠲
          </p>
          <p>
            ⠠⠗⠕⠍⠁⠝⠑⠝ <strong>⠆⠠⠞⠥⠎⠑⠝ ⠎⠞⠗⠡⠇⠑⠝⠙⠑ ⠎⠕⠇⠑⠗⠰ </strong>⠁⠧ ⠙⠑⠝ ⠁⠋⠛⠓⠁⠝⠎⠅⠁⠍⠑⠗⠊⠅⠁⠝⠎⠅⠑
            ⠋⠕⠗⠋⠁⠞⠞⠑⠗⠑⠝ ⠠⠅⠓⠁⠇⠑⠙ ⠠⠓⠕⠎⠎⠑⠊⠝⠊ ⠞⠽⠙⠑⠗ ⠏⠡ ⠡ ⠃⠇⠊ ⠑⠝ ⠇⠊⠅⠑ ⠎⠞⠕⠗ ⠎⠥⠅⠎⠑⠎⠎ ⠎⠕⠍ ⠙⠑⠝ ⠋⠕⠗⠗⠊⠛⠑
            ⠗⠕⠍⠁⠝⠑⠝⠂ <strong>⠆⠠⠙⠗⠁⠛⠑⠇⠪⠏⠑⠗⠑⠝⠰</strong>⠄ ⠠⠊ ⠃⠕⠅⠁⠝⠍⠑⠇⠙⠑⠇⠎⠑⠝ ⠋⠗⠁ <strong>⠆⠠⠙⠁⠛⠃⠇⠁⠙⠑⠞⠰
            </strong>⠼⠚⠋⠄⠚⠋⠄⠚⠛ ⠋⠕⠗⠅⠇⠁⠗⠑⠎ ⠙⠑⠞⠞⠑ ⠍⠑⠙⠒ <em>⠠⠄⠊⠅⠅⠑ ⠋⠕⠗⠙⠊ ⠠⠓⠕⠎⠎⠑⠊⠝⠊ ⠑⠗ ⠑⠝ ⠎⠏⠑⠎⠊⠑⠇⠞ ⠛⠕⠙
            ⠋⠕⠗⠋⠁⠞⠞⠑⠗⠄ ⠠⠍⠑⠝ ⠋⠕⠗⠙⠊ ⠞⠑⠍⠁⠞⠊⠅⠅⠑⠝ ⠞⠊⠇ ⠙⠑⠝ ⠠⠠⠥⠎⠁⠃⠕⠎⠁⠞⠞⠑ ⠠⠓⠕⠎⠎⠑⠊⠝⠊⠂ ⠓⠁⠗ ⠑⠝ ⠎⠏⠑⠎⠊⠑⠇⠇
            ⠙⠗⠁⠛⠝⠊⠝⠛ ⠏⠡ ⠑⠞ ⠧⠑⠎⠞⠇⠊⠛ ⠏⠥⠃⠇⠊⠅⠥⠍⠄⠠⠄</em>
          </p>
          <p>
            ⠠⠧⠊⠝⠚⠑⠂ ⠠⠋⠊⠝⠝⠤⠠⠑⠗⠊⠅⠄ ⠼⠃⠚⠚⠙⠄ <em>⠠⠄⠠⠎⠅⠗⠊⠧⠑⠗⠑⠛⠇⠑⠗⠠⠄</em>⠄ ⠼⠓⠄ ⠥⠞⠛⠄⠠⠕⠎⠇⠕
          </p>
          <p>
            ⠠⠓⠑⠇⠇⠑⠧⠊⠅⠂ ⠠⠁⠇⠋⠄ ⠼⠁⠊⠛⠚⠄ <em>⠠⠄⠛⠕⠙ ⠝⠽⠝⠕⠗⠎⠅⠠⠄</em>⠄ ⠠⠕⠎⠇⠕
          </p>
          <p>
            ⠠⠝⠽ ⠁⠋⠛⠓⠁⠝⠎⠅ ⠃⠑⠎⠞⠎⠑⠇⠛⠑⠗⠄⠃⠕⠅⠁⠝⠍⠑⠇⠙⠑⠇⠎⠑ <em>⠠⠄⠙⠁⠛⠃⠇⠁⠙⠑⠞⠠⠄</em>⠼⠚⠋⠄⠚⠋⠄⠚⠛
          </p>
        </div>
      </x:document>
    </x:expect>
  </x:scenario>
  
  <x:scenario label="Section in uncontracted braille">
    <x:call step="pxi:transform">
      <x:input port="source">
        <x:document type="inline">
          <div xmlns="http://www.w3.org/1999/xhtml">
            foobar
            <div style="text-transform:uncontracted">
              foobar
            </div>
          </div>
        </x:document>
      </x:input>
      <x:option name="grade" select="'1'"/>
      <x:option name="stylesheet" select="'http://www.nlb.no/pipeline/modules/braille/default.css'"/>
    </x:call>
    <x:context label="result">
      <x:document type="port" port="result"/>
    </x:context>
    <x:expect label="result" type="compare">
      <x:document type="inline">
        <div xmlns="http://www.w3.org/1999/xhtml">
          ⠋⠕⠕⠃⠼
          <div>
            ⠋⠕⠕⠃⠁⠗
          </div>
        </div>
      </x:document>
    </x:expect>
  </x:scenario>
  
  
  
  <!--   **** test for text-transform:uncontracted   ***  -->
  
  
  
  
  <x:scenario label="test for text-transform:uncontracted">
    <x:call step="pxi:transform">
      
      <x:input port="source">
        <x:document type="inline">
          
          <div xmlns="http://www.daisy.org/z3986/2005/dtbook/">
           
              <doctitle>l</doctitle>
              <docauthor>a</docauthor>
              <level1 class="titlepage">
                <h1>a ble at l</h1>
                <p>a ble at l </p>
              </level1>              
            
            <level1>
              <h1>a ble at ll</h1>
              <p>a ble at ll</p>
            </level1>
          </div>
          
        </x:document>
      </x:input>
      <x:option name="grade" select="'1'"/>
      <x:option name="stylesheet" select="'http://www.nlb.no/pipeline/modules/braille/default.css'"/>
    </x:call>
    
    
    <x:context label="result">
      <x:document type="port" port="result"/>
    </x:context>
    <x:expect label="result" type="compare">
      <x:document type="inline">
       
        <div xmlns="http://www.daisy.org/z3986/2005/dtbook/">
          
            <doctitle>⠰⠇</doctitle>
            <docauthor>⠰⠁</docauthor>
            <level1 class="titlepage">
              <h1>⠁ ⠃⠇⠑ ⠁⠞ ⠇</h1>
              <p> ⠁ ⠃⠇⠑ ⠁⠞ ⠇</p>
            </level1>            
            
          <level1>
            <h1>⠁ ⠃⠇⠑ ⠁⠞ ⠇⠇</h1>
            <p>⠰⠁ ⠃ ⠁ ⠇⠇</p>
          </level1>
        </div>
        
      </x:document>
    </x:expect>
  </x:scenario>
  
  
  
  <!--   *** test for Blocks of consecutive letters*** -->
  
  
  
  <x:scenario label="test for Blocks of consecutive letters should not be contracted">
    <x:call step="pxi:transform">
      
      <x:input port="source">
        <x:document type="inline">
          
          <div xmlns="http://www.daisy.org/z3986/2005/dtbook/">
           
              <doctitle>l</doctitle>
              <docauthor>a</docauthor>
              <level1 class="titlepage">
                <h1>a ble at l</h1>
                <p>a ble at l </p>
              </level1>              
            
            <level1>
              <h1>a ble at ll</h1>
              <p>a ble at ll</p>
              <p>a BLE AT forat ll</p>
              <p>	a ble at ll <span class="uncontracted-letters">a BLE AT  ll</span> a ble at  ll</p>
            </level1>
          </div>
          
        </x:document>
      </x:input>
      <x:option name="grade" select="'1'"/>
      <x:option name="stylesheet" select="'http://www.nlb.no/pipeline/modules/braille/default.css'"/>
    </x:call>
    
    
    <x:context label="result">
      <x:document type="port" port="result"/>
    </x:context>
    <x:expect label="result" type="compare">
      <x:document type="inline">
        
        <div xmlns="http://www.daisy.org/z3986/2005/dtbook/">
          
            <doctitle>⠰⠇</doctitle>
            <docauthor>⠰⠁</docauthor>
            <level1 class="titlepage">
              <h1>⠁ ⠃⠇⠑ ⠁⠞ ⠇</h1>
              <p> ⠁ ⠃⠇⠑ ⠁⠞ ⠇</p>
            </level1>            
            
          <level1>
            <h1>⠁ ⠃⠇⠑ ⠁⠞ ⠇⠇</h1>
            <p>⠰⠁ ⠃ ⠁ ⠇⠇</p>
            <p>⠰⠁ ⠠⠠⠃ ⠠⠠⠁ ⠫⠁ ⠇⠇</p>
            <p>⠰⠁ ⠃ ⠁ ⠇⠇<span class="uncontracted-letters"> ⠁ ⠠⠠⠃⠇⠑ ⠠⠠⠁⠞ ⠇⠇ </span> ⠰⠁ ⠃ ⠁ ⠇⠇ </p>
          </level1>
        </div>
        
      </x:document>
    </x:expect>
  </x:scenario>
  
  
  <!--  *** test for URLs and e-mail addresses***  -->
  
  
  
  <x:scenario label="test for URLs and e-mail addresses should not be contracted">
    <x:call step="pxi:transform">
      
      <x:input port="source">
        <x:document type="inline">
          
          <div xmlns="http://www.daisy.org/z3986/2005/dtbook/">
            <level1>
              <h1>a ble at er der</h1>
              <p>a ble at er der</p>
              <p>aa@ll.bb</p>
              <p>bleer@at.er er</p>
              <p> ll <span class="uncontracted-letters">bleer@at.er er</span> er</p>
              <p> ll <span>www.bleerat.er  er </span> er</p>
            </level1>
          </div>
          
        </x:document>
      </x:input>
      <x:option name="grade" select="'1'"/>
      <x:option name="stylesheet" select="'http://www.nlb.no/pipeline/modules/braille/default.css'"/>
    </x:call>
    
    
    <x:context label="result">
      <x:document type="port" port="result"/>
    </x:context>
    <x:expect label="result" type="compare">
      <x:document type="inline">
        
        <div xmlns="http://www.daisy.org/z3986/2005/dtbook/">           
          <level1>
            <h1>⠁ ⠃⠇⠑ ⠁⠞ ⠑⠗ ⠙⠑⠗</h1>
            <p>⠰⠁ ⠃ ⠁ ⠱ ⠙⠱</p>
            <p>⠁⠁⠈⠇⠇⠄⠃⠃</p>
            <p>⠃⠇⠑⠑⠗⠈⠁⠞⠄⠱ ⠱</p>
            <p>⠇⠇<span class="uncontracted-letters">⠃⠇⠑⠑⠗⠈⠁⠞⠄⠑⠗ ⠑⠗</span> ⠱ </p>
            <p>⠇⠇<span>⠣⠺⠺⠺⠄⠃⠇⠑⠑⠗⠁⠞⠄⠑⠗⠜ ⠱ </span>⠱</p>
          </level1>
        </div>
        
      </x:document>
    </x:expect>
  </x:scenario>
  
  
  <!--   ***test for bold, italic, strike through  and strong for html*** -->
  <!--      
    
    Always use dots 23 (⠆) in front of italic and dots 56 (⠰) after italic.  if alone    
    Always use dots 456 (⠸) in front of and after underline.
    Strikethrough use 5-2(⠐⠂) in front and after
   
   Always use dots 23 (⠆) in front of bold and dots 56 (⠰) after bold.  if alone
   if both em and bold occurs      
   Always use dots 6-3 (⠠⠄) in front of bold and dots 6-3 (⠠⠄) after bold. 
   
   -->
  
  <x:scenario label="test for bold, italic, strike through  and strong for html">
    <x:call step="pxi:transform">
      
      <x:input port="source">
        <x:document type="inline">          
          <div xmlns="http://www.w3.org/1999/xhtml">  <!--   <div xmlns="http://www.daisy.org/z3986/2005/dtbook/">       -->
            <level1>
              <h1>aa ll bb cc</h1>              
              <p>aa <em>bb</em> cc </p> 
              <p>aa <i>bb</i> cc </p>
              <p>aa <u>bb</u> cc </p> 
              <p>aa <strike>bb</strike> cc </p>
              <p>aa <s>bb</s> cc </p>
              <p>aa <strong>bb</strong> cc </p> 
              <p>aa <b>bb</b> cc </p> 
            </level1>
          </div>
          
        </x:document>
      </x:input>
      <x:option name="grade" select="'0'"/>
      <x:option name="stylesheet" select="'http://www.nlb.no/pipeline/modules/braille/default.css'"/>
    </x:call>
    
    
    <x:context label="result">
      <x:document type="port" port="result"/>
    </x:context>
    <x:expect label="result" type="compare">
      <x:document type="inline">
        
        <div xmlns="http://www.w3.org/1999/xhtml">           
          <level1>
            <h1>⠁⠁ ⠇⠇ ⠃⠃ ⠉⠉</h1>            
            <p>⠁⠁ <em>⠆⠃⠃⠰</em> ⠉⠉</p> 
            <p>⠁⠁  <i>⠆⠃⠃⠰</i> ⠉⠉</p>
            <p>⠁⠁ <u>⠸⠃⠃⠸</u> ⠉⠉</p>
            <p>⠁⠁ <strike>⠐⠂⠃⠃⠐⠂</strike> ⠉⠉ </p>
            <p>⠁⠁ <s>⠐⠂⠃⠃⠐⠂</s> ⠉⠉ </p>           
            <p>⠁⠁ <strong>⠠⠄⠃⠃⠠⠄</strong> ⠉⠉ </p> 
            <p>⠁⠁ <b>⠠⠄⠃⠃⠠⠄</b> ⠉⠉ </p>
            
          </level1>
        </div>
        
      </x:document>
    </x:expect>
  </x:scenario>
  
  <!--   ############################  -->
  
  
 
  <!--   ***test for bold, italic, strike through  and strong for DTbook*** -->
  
  <x:scenario label="test for bold, italic, strike through  and strong for DTbook">
    <x:call step="pxi:transform">
      
      <x:input port="source">
        <x:document type="inline">          
          <div xmlns="http://www.daisy.org/z3986/2005/dtbook/">  
            <level1>
              <h1>aa ll bb cc</h1>              
              <p>aa <em>bb</em> cc </p> 
              <p>aa <i>bb</i> cc </p>
              <p>aa <u>bb</u> cc </p> 
              <p>aa <strike>bb</strike> cc </p>
              <p>aa <s>bb</s> cc </p>
              <p>aa <strong>bb</strong> cc </p> 
              <p>aa <b>bb</b> cc </p> 
            </level1>
          </div>
          
        </x:document>
      </x:input>
      <x:option name="grade" select="'0'"/>
      <x:option name="stylesheet" select="'http://www.nlb.no/pipeline/modules/braille/default.css'"/>
    </x:call>
    
    
    <x:context label="result">
      <x:document type="port" port="result"/>
    </x:context>
    <x:expect label="result" type="compare">
      <x:document type="inline">
        
        <div xmlns="http://www.daisy.org/z3986/2005/dtbook/">           
          <level1>
            <h1>⠁⠁ ⠇⠇ ⠃⠃ ⠉⠉</h1>            
            <p>⠁⠁ <em>⠆⠃⠃⠰</em> ⠉⠉</p> 
            <p>⠁⠁  <i>⠆⠃⠃⠰</i> ⠉⠉</p>
            <p>⠁⠁ <u>⠸⠃⠃⠸</u> ⠉⠉</p>
            <p>⠁⠁ <strike>⠐⠂⠃⠃⠐⠂</strike> ⠉⠉ </p>
            <p>⠁⠁ <s>⠐⠂⠃⠃⠐⠂</s> ⠉⠉ </p>           
            <p>⠁⠁ <strong>⠠⠄⠃⠃⠠⠄</strong> ⠉⠉ </p> 
            <p>⠁⠁ <b>⠠⠄⠃⠃⠠⠄</b> ⠉⠉ </p>
            
          </level1>
        </div>
        
      </x:document>
    </x:expect>
  </x:scenario>
  
  
  
  
  
  <!--   ###########Test for css and boilplate######  -->
  
  
  
  <!--   ***test for Titlepage*** -->
  
  <x:scenario label="test for test for Titlepage for DTbook">
    <x:call step="pxi:transform">
      
      <x:input port="source">
        <x:document type="inline">          
          <div xmlns="http://www.daisy.org/z3986/2005/dtbook/">  
           
           
            <dtbook xmlns="http://www.daisy.org/z3986/2005/dtbook/" xml:lang="no" version="2005-3">
              <head>
                <link rel="stylesheet" media="embossed" type="text/css" href="test.css"/>
                <meta name="dtb:uid" content="557901"/>
                <meta name="dc:Title" content="ULVEGUTTEN TAL - BOK 1: Ulvegutten"/>
                <meta name="dc:Identifier" content="557901"/>
                <meta name="track:Guidelines" content="2015-1"/>
                <meta name="track:Supplier" content="AEL Data"/>
                <meta name="dc:Language" content="no"/>
                <meta name="dc:Format" content="DTBook"/>
                <meta name="dc:Creator" content="Bringsv&#xe6;rd, Tor &#xc5;ge"/>
                <meta name="dc:Contributor" content="Gudmundsen, Per Kristian"/> 
                <meta name="dc:Date" content="2015-11-07"/>
                <meta name="dc:Publisher" content="NLB"/>
                <meta name="dc:Source" content="urn:isbn:9788202459543"/>
                <meta name="dcterms:modified" content="2015-11-09T09:06:58+00:00"/>
              </head>
              <book>
                <frontmatter>
                  <doctitle>AULVEG </doctitle>
                  <docauthor>Bringsv&#xe6;rd, Tor &#xc5;ge</docauthor>
                  <level1  class="titlepage">
                    <pagenum id="page-1" page="normal">1</pagenum>
                    <h1 id="h1_1" class="title fulltitle">ULVEGUTTEN TAL &#x2013; BOK 1: Ulvegutten</h1>
                    <p class="docauthor author">Tor &#xc5;ge Bringsv&#xe6;rd</p>
                    <p>Illustrert av Haakon Lie</p>
                    <p>CAPPELEN DAMM</p>
                  </level1>
                  
                  
                  <level1  class="colophon"> 
                    <pagenum id="page-2" page="normal">2</pagenum> 
                    <p>Originaltittel: <em>The Kill List</em></p> 
                    <p>Copyright © Frederick Forsyth 2013</p> 
                    <p>Norsk utgave © Gyldendal Norsk Forlag AS 2014</p>                     
                  </level1>
                  
                  
                  
                </frontmatter>
                
                <bodymatter>
                  <level1 class="chapter">
                    <pagenum id="page-3" page="normal">3</pagenum>
                    <h1 id="h1_2">ULVESTAMMEN</h1>                    
                    <p>Tal er &#xe5;tte vintere gammel.</p>
                    <level2>
                      <h2 id="h2_1">chapter2</h2>                    
                      <p>para</p>
                      
                    </level2>
                    <pagenum id="page-4" page="normal">4</pagenum>
                  </level1>
                </bodymatter>
              </book>
            </dtbook>
           
          </div>
          
        </x:document>
      </x:input>
      <x:option name="grade" select="'0'"/>
      <x:option name="stylesheet" select="'http://www.nlb.no/pipeline/modules/braille/default.css'"/>
    </x:call>
    
    
    <x:context label="result">
      <x:document type="port" port="result"/>
    </x:context>
    <x:expect label="result" type="compare">
      <x:document type="inline">
        
        <div xmlns="http://www.daisy.org/z3986/2005/dtbook/">  
          <dtbook xmlns="http://www.daisy.org/z3986/2005/dtbook/" xml:lang="no" version="2005-3">
            <head>
              <link rel="stylesheet" media="embossed" type="text/css" href="test.css"/>
              <meta name="dtb:uid" content="557901"/>
              <meta name="dc:Title" content="ULVEGUTTEN TAL - BOK 1: Ulvegutten"/>
              <meta name="dc:Identifier" content="557901"/>
              <meta name="track:Guidelines" content="2015-1"/>
              <meta name="track:Supplier" content="AEL Data"/>
              <meta name="dc:Language" content="no"/>
              <meta name="dc:Format" content="DTBook"/>
              <meta name="dc:Creator" content="Bringsv&#xe6;rd, Tor &#xc5;ge"/>
              <meta name="dc:Contributor" content="Gudmundsen, Per Kristian"/> 
              <meta name="dc:Date" content="2015-11-07"/>
              <meta name="dc:Publisher" content="NLB"/>
              <meta name="dc:Source" content="urn:isbn:9788202459543"/>
              <meta name="dcterms:modified" content="2015-11-09T09:06:58+00:00"/>
            </head>
            <book>
              
              <frontmatter>
                <doctitle>⠠⠠⠁⠥⠇⠧⠑⠛ </doctitle>
                <docauthor>⠠⠃⠗⠊⠝⠛⠎⠧⠜⠗⠙⠂ ⠠⠞⠕⠗ ⠠⠡⠛⠑</docauthor>
                <level1 class="first-page">
                  <p class="author">⠠⠃⠗⠊⠝⠛⠎⠧⠜⠗⠙⠂ ⠠⠞⠕⠗ ⠠⠡⠛⠑</p>
                  <p class="title">⠠⠠⠥⠇⠧⠑⠛⠥⠞⠞⠑⠝ ⠠⠠⠞⠁⠇ ⠤⠤ ⠠⠠⠃⠕⠅ ⠼⠁⠒ ⠠⠥⠇⠧⠑⠛⠥⠞⠞⠑⠝</p>
                  <p class="translater">⠠⠛⠥⠙⠍⠥⠝⠙⠎⠑⠝⠂ ⠠⠏⠑⠗ ⠠⠅⠗⠊⠎⠞⠊⠁⠝</p>
                  <p class="nlb">⠠⠠⠝⠇⠃</p>
                  <p class="year">⠝⠰⠕⠗⠛⠑ ⠼⠃⠚⠁⠋</p>
                  <p class="bind">⠠⠭ ⠁⠧ ⠠⠽</p>
                </level1>
                <level1 class="second-page">
                  <h1>⠠⠉⠕⠇⠕⠏⠓⠕⠝</h1>
                  <p>⠠⠕⠗⠊­⠛⠊⠝⠁⠇­⠞⠊⠞⠞⠑⠇⠒
                    <em>⠆⠠⠞⠓⠑ ⠠⠅⠊⠇⠇ ⠠⠇⠊⠎⠞⠰</em>
                  </p>
                  <p>⠠⠉⠕⠏⠽­⠗⠊⠛⠓⠞ ⠦⠉⠴ ⠠⠋⠗⠑⠙⠑⠗⠊⠉⠅ ⠠⠋⠕⠗­⠎⠽­⠞⠓ ⠼⠃⠚⠁⠉</p>
                  <p>⠠⠝⠕⠗⠎⠅ ⠥⠞⠛⠁­⠧⠑ ⠦⠉⠴ ⠠⠛⠽⠇­⠙⠑⠝­⠙⠁⠇ ⠠⠝⠕⠗⠎⠅ ⠠⠋⠕⠗⠇⠁⠛ ⠠⠠⠁⠎ ⠼⠃⠚⠁⠙</p>
                </level1>
                <level1 class="third-page">
                  <h1>⠠⠕⠍ ⠃⠕⠅⠁</h1>
                  <p class="contraction">⠠⠋⠥⠇⠇⠎⠅⠗⠊⠋⠞</p>
                  <p class="pages">⠠⠁⠝⠞⠁⠇⠇ ⠠⠎⠊⠙⠑⠗⠒</p>
                  <p class="return">⠠⠃⠕⠅⠁ ⠎⠅⠁⠇ ⠊⠅⠅⠑ ⠗⠑⠞⠥⠗⠝⠑⠗⠑⠎⠄</p>
                  <p class="contact">⠠⠋⠑⠊⠇ ⠑⠇⠇⠑⠗ ⠍⠁⠝⠛⠇⠑⠗ ⠅⠁⠝ ⠍⠑⠇⠙⠑⠎ ⠞⠊⠇ ⠣⠏⠥⠝⠅⠞⠈⠝⠇⠃⠄⠝⠕⠄⠜</p>
                </level1>
                <level1 class="titlepage">
                  <pagenum id="page-1" page="normal">⠼⠁</pagenum>
                  <h1 id="h1_1" class="title fulltitle">⠠⠠⠥⠇⠧⠑⠛⠥⠞⠞⠑⠝ ⠠⠠⠞⠁⠇ ⠤⠤ ⠠⠠⠃⠕⠅ ⠼⠁⠒ ⠠⠥⠇⠧⠑⠛⠥⠞⠞⠑⠝</h1>
                  <p class="docauthor author">⠠⠞⠕⠗ ⠠⠡⠛⠑ ⠠⠃⠗⠊⠝⠛⠎­⠧⠜⠗⠙</p>
                  <p>⠠⠊⠇­⠇⠥⠎⠞­⠗⠑⠗⠞ ⠁⠧ ⠠⠓⠁⠁­⠅⠕⠝ ⠠⠇⠊⠑</p>
                  <p>⠠⠠⠉⠁⠏⠏⠑⠇⠑⠝ ⠠⠠⠙⠁⠍⠍</p>
                </level1>
                <level1 class="colophon">
                  <pagenum id="page-2" page="normal">⠼⠃</pagenum>
                  <p>⠠⠕⠗⠊­⠛⠊⠝⠁⠇­⠞⠊⠞⠞⠑⠇⠒
                    <em>⠆⠠⠞⠓⠑ ⠠⠅⠊⠇⠇ ⠠⠇⠊⠎⠞⠰</em>
                  </p>
                  <p>⠠⠉⠕⠏⠽­⠗⠊⠛⠓⠞ ⠦⠉⠴ ⠠⠋⠗⠑⠙⠑⠗⠊⠉⠅ ⠠⠋⠕⠗­⠎⠽­⠞⠓ ⠼⠃⠚⠁⠉</p>
                  <p>⠠⠝⠕⠗⠎⠅ ⠥⠞⠛⠁­⠧⠑ ⠦⠉⠴ ⠠⠛⠽⠇­⠙⠑⠝­⠙⠁⠇ ⠠⠝⠕⠗⠎⠅ ⠠⠋⠕⠗⠇⠁⠛ ⠠⠠⠁⠎ ⠼⠃⠚⠁⠙</p>
                </level1>
              </frontmatter>
              <bodymatter>
                <level1 class="chapter">
                  <pagenum id="page-3" page="normal">⠼⠉</pagenum>
                  <h1 id="h1_2">⠠⠠⠥⠇⠧⠑⠎⠞⠁⠍⠍⠑⠝</h1>
                  <p>⠠⠞⠁⠇ ⠑⠗ ⠡⠞⠞⠑ ⠧⠊⠝­⠞⠑­⠗⠑ ⠛⠁⠍⠍⠑⠇⠄</p>
                  <level2>
                    <h2 id="h2_1">⠉⠓⠁⠏⠞⠑⠗⠼⠃</h2>
                    <p>⠏⠁⠗⠁</p>
                  </level2>
                  <pagenum id="page-4" page="normal">⠼⠙</pagenum>
                </level1>
              </bodymatter>
              
            </book>
          </dtbook>
        </div>
        
      </x:document>
    </x:expect>
  </x:scenario>
  
  
  
</x:description>
